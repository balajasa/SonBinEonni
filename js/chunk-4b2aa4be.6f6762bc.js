(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b2aa4be"],{"1cca":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"orderInfo"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container"},[e("div",{staticClass:"row text-center p-5"},[t._m(0),t._m(1),t.order.is_paid?e("div",{staticClass:"col-md-3 alert alert-sborange alert-rounded"},[e("i",{staticClass:"fas fa-check-circle"}),t._v(" 確認訂單資料 "),e("i",{staticClass:"fas fa-angle-double-right"})]):e("div",{staticClass:"col-md-3 alert alert-sborange alert-rounded"},[t._v(" 確認訂單資料 "),e("i",{staticClass:"fas fa-angle-double-right"})]),t.order.is_paid?e("div",{staticClass:"col-md-3 alert alert-sborange alert-rounded"},[e("i",{staticClass:"fas fa-check-circle"}),t._v(" 完成訂購 ")]):e("div",{staticClass:"col-md-3 alert alert-sbtan alert-rounded"},[t._v(" 完成訂購 ")])]),e("div",{staticClass:"container px-5"},[e("div",{staticClass:"orderinfo row justify-content-center mt-4"},[e("h3",{staticClass:"text-sbbrown font-weight-bold"},[t._v("訂單資訊")]),e("table",{staticClass:"table mt-3 p-5"},[t._m(2),e("tbody",t._l(t.order.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.product.title))]),e("td",[t._v(t._s(a.qty))]),e("td",[t._v(" "+t._s(t._f("currency")(a.final_total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right font-weight-bold h5",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-danger font-weight-bold h5",attrs:{colspan:"3"}},[t._v(t._s(t._f("currency")(t.order.total)))])])])])]),e("div",{staticClass:"userinfo row justify-content-center mt-4"},[e("h3",{staticClass:"text-sbbrown font-weight-bold"},[t._v("收件者資訊")]),e("table",{staticClass:"table mt-3 p-5"},[e("tbody",[e("tr",[e("td",{staticClass:"title"},[t._v("訂購日期")]),e("td",[t._v(t._s(t._f("date")(t.order.create_at)))])]),e("tr",[e("td",{staticClass:"title"},[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("td",{staticClass:"title"},[t._v("電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("td",{staticClass:"title"},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("td",{staticClass:"title"},[t._v("地址")]),e("td",[t._v(t._s(t.order.user.address))])])]),e("tfoot",["CVS"===t.order.user.payment?e("tr",[e("td",{staticClass:"title"},[t._v("超商付款代碼")]),e("td",[t._v("CLOY011109251982")])]):t._e(),"ATM"===t.order.user.payment?e("tr",[e("td",{staticClass:"title"},[t._v("ATM轉帳帳號")]),e("td",[t._v("中國信託(822)250510091408011404")])]):t._e(),e("tr",[e("td",{staticClass:"title"},[t._v("付款狀態")]),t.order.is_paid?e("td",{staticClass:"text-info"},[t._v("完成付款")]):e("td",{staticClass:"text-danger font-weight-bold"},[t._v("尚未付款")])])])])]),e("div",{staticClass:"text-right py-5"},[t.order.is_paid?t._e():e("button",{staticClass:"btn btn-sborange",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._v("確認送出")])])])])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-3 alert alert-sborange alert-rounded"},[e("i",{staticClass:"fas fa-check-circle"}),t._v(" 確認購物車 "),e("i",{staticClass:"fas fa-angle-double-right"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-3 alert alert-sborange alert-rounded"},[e("i",{staticClass:"fas fa-check-circle"}),t._v(" 填寫訂單資料 "),e("i",{staticClass:"fas fa-angle-double-right"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("商品名稱")]),e("th",[t._v("數量")]),e("th",[t._v("價格")])])])}],i=(e("99af"),e("1157"),{data:function(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("balasa","/order/").concat(t.orderId);t.$http.get(a).then((function(a){a.data.success?t.order=a.data.order:(t.$bus.$emit("message:push",a.data.message,"danger"),t.$router.push("/productlist"))}))},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("balasa","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(a).then((function(a){t.isLoading=!1,a.data.success?(t.getOrder(),t.$bus.$emit("cart:get")):t.$bus.$emit("message:push",a.data.message,"danger")}))}},created:function(){this.orderId=this.$route.params.order_id,this.getOrder()}}),o=i,c=e("2877"),d=Object(c["a"])(o,s,r,!1,null,null,null);a["default"]=d.exports},"99af":function(t,a,e){"use strict";var s=e("23e7"),r=e("d039"),i=e("e8b5"),o=e("861d"),c=e("7b0b"),d=e("50c4"),n=e("8418"),l=e("65f0"),u=e("1dde"),_=e("b622"),f=e("2d00"),v=_("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",p=f>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=u("concat"),C=function(t){if(!o(t))return!1;var a=t[v];return void 0!==a?!!a:i(t)},m=!p||!g;s({target:"Array",proto:!0,forced:m},{concat:function(t){var a,e,s,r,i,o=c(this),u=l(o,0),_=0;for(a=-1,s=arguments.length;a<s;a++)if(i=-1===a?o:arguments[a],C(i)){if(r=d(i.length),_+r>h)throw TypeError(b);for(e=0;e<r;e++,_++)e in i&&n(u,_,i[e])}else{if(_>=h)throw TypeError(b);n(u,_++,i)}return u.length=_,u}})}}]);
//# sourceMappingURL=chunk-4b2aa4be.6f6762bc.js.map