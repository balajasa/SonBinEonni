(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-076402d8"],{"159b":function(t,e,a){var i=a("da84"),r=a("fdbc"),n=a("17c2"),s=a("9112");for(var o in r){var c=i[o],u=c&&c.prototype;if(u&&u.forEach!==n)try{s(u,"forEach",n)}catch(l){u.forEach=n}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,r=a("a640"),n=a("ae40"),s=r("forEach"),o=n("forEach");t.exports=s&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"28f9":function(t,e,a){},4160:function(t,e,a){"use strict";var i=a("23e7"),r=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},8418:function(t,e,a){"use strict";var i=a("c04e"),r=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var s=i(e);s in t?r.f(t,s,n(0,a)):t[s]=a}},"8e17":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination justify-content-center my-5"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pagination.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.pagination.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pagination.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},r=[],n={data:function(){return{}},props:["pagination"],methods:{updatePage:function(t){this.$emit("emitpage",t)}}},s=n,o=a("2877"),c=Object(o["a"])(s,i,r,!1,null,null,null);e["a"]=c.exports},"99af":function(t,e,a){"use strict";var i=a("23e7"),r=a("d039"),n=a("e8b5"),s=a("861d"),o=a("7b0b"),c=a("50c4"),u=a("8418"),l=a("65f0"),d=a("1dde"),g=a("b622"),f=a("2d00"),h=g("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",m=f>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),C=d("concat"),b=function(t){if(!s(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},y=!m||!C;i({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,i,r,n,s=o(this),d=l(s,0),g=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?s:arguments[e],b(n)){if(r=c(n.length),g+r>p)throw TypeError(v);for(a=0;a<r;a++,g++)a in n&&u(d,g,n[a])}else{if(g>=p)throw TypeError(v);u(d,g++,n)}return d.length=g,d}})},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("23cb"),n=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),u=a("8418"),l=a("1dde"),d=a("ae40"),g=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!g||!f},{splice:function(t,e){var a,i,l,d,g,f,C=o(this),b=s(C.length),y=r(t,b),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=b-y):(a=_-2,i=p(h(n(e),0),b-y)),b+a-i>v)throw TypeError(m);for(l=c(C,i),d=0;d<i;d++)g=y+d,g in C&&u(l,d,C[g]);if(l.length=i,a<i){for(d=y;d<b-i;d++)g=d+i,f=d+a,g in C?C[f]=C[g]:delete C[f];for(d=b;d>b-i+a;d--)delete C[d-1]}else if(a>i)for(d=b-i;d>y;d--)g=d+i-1,f=d+a-1,g in C?C[f]=C[g]:delete C[f];for(d=0;d<a;d++)C[d+y]=arguments[d+2];return C.length=b-i+a,l}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,n=a("a640"),s=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=n("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ea10:function(t,e,a){"use strict";var i=a("28f9"),r=a.n(i);r.a},ea45:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productlist"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"categorybar col-md-3 pt-4"},[t._t("default",[a("Category",{attrs:{category:t.category,currentOption:t.isCurrent},on:{"get-category":t.changeCategory}})])],2),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"row"},t._l(t.filterProducts,(function(e){return a("div",{key:e.id,staticClass:"col-sm-6 col-md-4 my-4"},[a("div",{staticClass:"card border-0 product-card h-100"},[a("div",{staticClass:"productimg",staticStyle:{height:"230px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.$router.push("productdetail/"+e.id)}}}),a("a",{staticClass:"myfavorite",attrs:{type:"button"}},[t.setliked(e)?a("i",{staticClass:"fas fa-heart",on:{click:function(a){return a.stopPropagation(),t.changeFavorite(e)}}}):a("i",{staticClass:"far fa-heart",on:{click:function(a){return a.stopPropagation(),t.changeFavorite(e)}}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[a("a",{staticClass:"text-sbbrown font-weight-bold",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("div",{staticClass:"d-flex justify-content-end align-items-baseline"},[e.price?a("div",{staticClass:"pd_price font-weight-bold mr-2 mb-0"},[a("small",{staticClass:"h6 text-sbbrown"},[t._v("網路價")]),t._v(" $"+t._s(e.price)+" ")]):t._e()])]),a("div",{staticClass:"card-footer text-center cart-text",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.addtoCart(e.id)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("加到購物車 ")])])])})),0),a("Pagination",{attrs:{pagination:t.pagination},on:{emitpage:t.setPagination}})],1)])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron jumbotron-fluid jumbotron-bg d-flex align-items-center"},[a("div",{staticClass:"container"},[a("div",{staticClass:"bg-lighter p-3 text-center"},[a("div",{staticClass:"h4 text-sborange font-weight-bold"},[t._v("손빈언니將21年來專研的美味韓式料理帶進台灣")]),a("div",{staticClass:"h4 text-sborange font-weight-bold"},[t._v("讓每個吃到料理的顧客，都露出幸福的彎彎眼睛^^")])])])])}],n=(a("99af"),a("4de4"),a("4160"),a("c975"),a("fb6a"),a("a434"),a("159b"),a("1157"),a("8e17")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"list-group text-sbtan"},t._l(t.category,(function(e){return a("li",{key:e.id,staticClass:"list-group-item",class:{active:t.currentOption===e},attrs:{value:e},on:{click:function(a){return a.preventDefault(),t.getCategory(e)}}},[t._v(t._s(e))])})),0)])},o=[],c={props:["category","currentOption"],methods:{getCategory:function(t){this.$emit("get-category",t)}}},u=c,l=a("2877"),d=Object(l["a"])(u,s,o,!1,null,null,null),g=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid sideList"},[t._t("default")],2)])},h=[],p={},v=Object(l["a"])(p,f,h,!1,null,null,null),m=v.exports,C={name:"ProductList",data:function(){return{products:[],product:[],category:[],isCurrent:"全部商品",status:{loadingItem:""},isLoading:!1,currentPageNum:1,showPages:"",pagination:{total_pages:"",current_page:"",has_pre:!1,has_next:!0},cart:{},favorites:[]}},components:{Pagination:n["a"],Category:g,SideList:m},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("balasa","/products/all");t.isLoading=!0,this.$http.get(e).then((function(e){t.isLoading=!1,e.data.success?(t.products=e.data.products,t.getCategory(),t.showPages=Math.ceil(t.products.length/12)):(t.$bus.$emit("message:push",e.data.message,"danger"),t.$router.push("shopping/productlist"))}))},getCategory:function(){var t=this,e=[];t.products.forEach((function(t){return e.push(t.category)})),t.category=e.filter((function(t,e,a){return a.indexOf(t)===e})),t.category.unshift("全部商品")},changeCategory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"全部商品";this.isCurrent=t,this.currentPageNum=1},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("balasa","/cart"),r={product_id:t,qty:e};a.isLoading=!0,a.$http.post(i,{data:r}).then((function(t){console.log("post",t.data),t.data.success?(a.getCart(),a.$bus.$emit("cart:get"),a.$bus.$emit("message:push","商品已加入購物車","success")):a.$bus.$emit("message:push",t.data.message,"danger"),a.isLoading=!1}))},getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("balasa","/cart");t.isLoading=!0,this.$http.get(e).then((function(e){t.isLoading=!1}))},getFavorites:function(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},changeFavorite:function(t){var e=this,a=-1;e.favorites.length>0&&e.favorites.forEach((function(e,i){e.id===t.id&&(a=i)})),-1===a?e.favorites.push(t):e.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(e.favorites)),e.getFavorites(),e.$bus.$emit("favor:get")},setliked:function(t){var e=this.favorites.filter((function(e){return e.id===t.id}));return e.length>0},setPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPageNum=t,this.pagination.total_pages=this.showPages,this.pagination.current_page=this.currentPageNum,this.currentPageNum<=1?this.pagination.has_pre=!1:this.pagination.has_pre=!0,this.currentPageNum>=this.total_pages?this.pagination.has_next=!1:this.pagination.has_next=!0},setShowData:function(t){var e=Math.ceil(t.length/12);this.showPages=e,this.setPagination(this.currentPageNum);var a=12*(parseInt(this.currentPageNum,10)-1),i=12*(parseInt(this.currentPageNum,10)-1)+12;return t.slice(a,i)}},computed:{filterProducts:function(){var t=this,e=this.products;return this.isCurrent&&"全部商品"!==this.isCurrent&&(e=this.products.filter((function(e){return e.category===t.isCurrent}))),this.setShowData(e)}},created:function(){var t=this;t.$route.params.category&&(t.isCurrent=t.$route.params.category),this.getProducts(),this.getCart(),t.getFavorites(),t.$bus.$on("productFavor:get",(function(){return t.getFavorites()}))}},b=C,y=(a("ea10"),Object(l["a"])(b,i,r,!1,null,null,null));e["default"]=y.exports},fb6a:function(t,e,a){"use strict";var i=a("23e7"),r=a("861d"),n=a("e8b5"),s=a("23cb"),o=a("50c4"),c=a("fc6a"),u=a("8418"),l=a("b622"),d=a("1dde"),g=a("ae40"),f=d("slice"),h=g("slice",{ACCESSORS:!0,0:0,1:2}),p=l("species"),v=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var a,i,l,d=c(this),g=o(d.length),f=s(t,g),h=s(void 0===e?g:e,g);if(n(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(d,f,h);for(i=new(void 0===a?Array:a)(m(h-f,0)),l=0;f<h;f++,l++)f in d&&u(i,l,d[f]);return i.length=l,i}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-076402d8.548bb5c7.js.map